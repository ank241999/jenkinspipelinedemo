<div class="inputWrapper threatactivityReport">
	<div id="smart-tables">
		<div class="row">
			<div class="col-xs-12">
				<div class="card table-2">
					<header class="row title">
						<div class="col-xs-12">
							<h2 class="main-title" translate>repothreatactivityreport</h2>
						</div>
					</header>
					<div class="row">
						<div class="col-xs-12">
							<div *ngIf="filtersVisible" class="table-1-filters">
								<form [formGroup]="filtersForm">
									<!-- <mat-form-field class="filter-wrapper" style="overflow: hidden !important;">
										<input matInput (keyup)="filterDeployments($event.target.value)"
											placeholder="{{'lblFilter' | translate}}">
									</mat-form-field> -->
									<div class="row row-input" style="margin-top: 5px !important;">
										<div class="col-sm-3 pd-left-0">
											<label class="control-label" translate>repodatefrom</label>
										</div>
										<div class="col-sm-5">
											<input type="text" class="form-control date-input" [matDatepicker]="picker"
												placeholder="{{'repoChoosefrom' | translate}}"
												[formControl]="filtersForm.controls.subscribed">
											<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
											<mat-datepicker #picker></mat-datepicker>
											<button type="button" class="reset-date" title="Clear date"
												(click)="resetDatePicker()">
												<span class="fa fa-times"></span>
											</button>
										</div>
									</div>
									<div class="row row-input">
										<div class="col-sm-3 pd-left-0">
											<label class="control-label" translate>repodateto</label>
										</div>
										<div class="col-sm-5">
											<input type="text" class="form-control date-input"
												[matDatepicker]="pickerTo" placeholder="{{'repoChoose' | translate}}"
												[formControl]="filtersForm.controls.dateTo">
											<mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
											<mat-datepicker #pickerTo></mat-datepicker>
											<button type="button" class="reset-date" title="Clear date"
												(click)="resetDatePickerTo()">
												<span class="fa fa-times"></span>
											</button>
										</div>
									</div>
									<div class="row row-input">
										<div class="col-sm-2 pd-left-0">
											<button class="globalButton" type="button" (click)="showReport()"
												translate>reposhowreport
											</button>
										</div>
										<div class="col-sm-8">&nbsp;</div>
										<div class="col-sm-2">
											<button class="globalButton" type="button" (click)="downloadPDF()"
												id="exportbtn" [disabled]="!isEnabled" translate>repoexportpdf</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
					<div class="table-wrapper">
						<table class="table table-stripes" mat-table [dataSource]="dataSource" matSort #sort="matSort"
							matSortActive="creationTimestamp" matSortDirection="desc">
							<ng-container matColumnDef="creationTimestamp">
								<th mat-header-cell *matHeaderCellDef mat-sort-header> <span
										translate>repothreatoccurrence</span> </th>
								<td mat-cell *matCellDef="let row">
									{{row.creationTimestamp | utcToLocal : 'MM/dd/yyyy HH:mm:ss'}} </td>
							</ng-container>
							<ng-container matColumnDef="threatHandgun">
								<th mat-header-cell *matHeaderCellDef mat-sort-header> <span
										translate>repohandgun</span> </th>
								<td mat-cell *matCellDef="let row"> {{row.threatHandgun | camelCase}} </td>
							</ng-container>
							<ng-container matColumnDef="threatRifle">
								<th mat-header-cell *matHeaderCellDef mat-sort-header> <span translate>reporifle</span>
								</th>
								<td mat-cell *matCellDef="let row"> {{row.threatRifle | camelCase}} </td>
							</ng-container>
							<ng-container matColumnDef="threatPipeBomb">
								<th mat-header-cell *matHeaderCellDef mat-sort-header translate>
									<span translate>repopipebomb</span>
								</th>
								<td mat-cell *matCellDef="let row"> {{row.threatPipeBomb | camelCase}} </td>
							</ng-container>
							<ng-container matColumnDef="threatKnife">
								<th mat-header-cell *matHeaderCellDef mat-sort-header translate>
									<span translate>repoknife</span>
								</th>
								<td mat-cell *matCellDef="let row"> {{row.threatKnife | camelCase}} </td>
							</ng-container>
							<ng-container matColumnDef="threatThreat">
								<th mat-header-cell *matHeaderCellDef mat-sort-header translate>
									<span translate>repothreat</span>
								</th>
								<td mat-cell *matCellDef="let row"> {{row.threatThreat | camelCase}} </td>
							</ng-container>
							<ng-container matColumnDef="anomaly">
								<th mat-header-cell *matHeaderCellDef mat-sort-header> <span
										translate>repoanomaly</span> </th>
								<td mat-cell *matCellDef="let row"> {{row.anomaly}} </td>
							</ng-container>
							<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
							<tr mat-row *matRowDef="let row; columns: displayedColumns;"
								(click)="selection.toggle(row)"></tr>
						</table>
						<div class="text-center" id="showdata" style="display: none;">
							<h3 style="height:200px; font-weight: bold; color: gray; margin-top: 100px;">
								Data Not Found</h3>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>