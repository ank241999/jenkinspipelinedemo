<div class="inputWrapper systemdashboard">
    <div id="smart-tables">
        <div class="row">
            <div class="col-xs-12">
                <div class="card">
                    <div class="row">
                        <div class="col-xs-1 link_back">&nbsp;</div>
                        <div class="col-xs-10">&nbsp;</div>
                        <div class="col-xs-1" style="text-align: right;">&nbsp;</div>
                    </div>
                    <div class="innercard-wrapper">
                        <header class="row title">
                            <div class="col-lg-5 col-xs-12">
                                <h2 class="main-title" style="font-size: 32px !important; margin-top: 7px;" translate>
                                    dashsystemstatus</h2>
                            </div>
                            <div class="col-lg-7 col-xs-12">
                                <div class="row">
                                    <div class="col-xs-12 col-lg-4 col-md-4 col-sm-12" (click)="showNotifications()">
                                        <button style="float:right; margin-top: 8px !important;" type="button"
                                            class="btn-notifications" mat-icon-button>
                                            <i style="color: #000; font-size: 14px;" *ngIf="!notificationCount"
                                                class="fa fa-bell-o"></i>
                                            <i style="color: red; font-size: 14px;" *ngIf="notificationCount"
                                                class="fa fa-bell"></i>
                                            <!-- <span *ngIf="notifications.length" class="notifications-count">{{ notifications.length }}</span> -->
                                            <span
                                                style="color: #000; font-size: 11px !important; margin-left: 5px; font-weight: bold;">{{ this.notificationCount }}
                                                NOTIFICATIONS</span>
                                        </button>
                                    </div>
                                    <div class="col-xs-12 col-lg-4 col-md-4 col-sm-12">
                                        <button class="globalButton" type="button" (click)="onManageLanes()"
                                            style="margin-bottom: 5px;" translate>dashmanagelanes</button>
                                    </div>
                                    <div class="col-xs-12 col-lg-4 col-md-4 col-sm-12">
                                        <button class="globalButton" type="button" (click)="onManageGates()"
                                            translate>dashmanagegates
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </header>
                        <div class="row">
                            <div class="col-lg-12 col-xs-12 pd-left-5 pd-right-5">
                                <div class="row">
                                    <div class="col-xs-12 text-center" style="min-height: 28px;">&nbsp;</div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 text-center" style="min-height: 28px;">
                                        <mat-accordion>
                                            <mat-expansion-panel *ngFor="let item of entrances">
                                                <mat-expansion-panel-header>
                                                    <mat-panel-title (click)="filterContent(item.entranceId)">
                                                        <table class="table table-stripes" style="margin-top: 15px;">
                                                            <tr>
                                                                <th colspan="2" class="mat-header-cell"
                                                                    style="font-weight: bold; font-size: 16px; color: #143345; border-bottom: 0px; width: 50px;">
                                                                    {{item.entranceName}}</th>
                                                                <th colspan="2" class="mat-header-cell"
                                                                    style="font-weight: bold; border-bottom: 0px;"><span
                                                                        style="font-size: 14px; font-weight: bold; margin-right: 5px;">1</span>
                                                                    <span>PORTAL STATUS</span>
                                                                </th>
                                                                <th colspan="3" class="mat-header-cell"
                                                                    style="font-weight: bold; border-bottom: 0px;"><span
                                                                        style="font-size: 14px; font-weight: bold; margin-right: 5px;">2</span>
                                                                    <span>LEFT DEVICE STATUS</span>
                                                                </th>
                                                                <th colspan="2" class="mat-header-cell"
                                                                    style="font-weight: bold; border-bottom: 0px;"><span
                                                                        style="font-size: 14px; font-weight: bold; margin-right: 5px;">3</span>
                                                                    <span>RIGHT DEVICE STATUS</span>
                                                                </th>
                                                                <th class="mat-header-cell"
                                                                    style="font-weight: bold; border-bottom: 0px;"><span
                                                                        style="font-size: 14px; font-weight: bold; margin-right: 5px;"></span>
                                                                    <i class="fa fa-bell"
                                                                        style="font-size: 14px; color: red;"></i><span
                                                                        style="margin-left: 5px; font-weight: bold; color:#000;">{{item.totalThreats}}</span>
                                                                </th>
                                                            </tr>
                                                        </table>
                                                    </mat-panel-title>
                                                </mat-expansion-panel-header>
                                                <table class="table table-stripes" mat-table
                                                    [dataSource]="dataSourceGate" matSort #sortGate="matSort"
                                                    matSortActive="leftDeviceName" matSortDirection="asc"
                                                    matSortDisableClear>
                                                    <!-- <ng-container matColumnDef="entranceName">
                                                        <th mat-header-cell *matHeaderCellDef mat-sort-header> <span
                                                                translate>dashgatename</span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="width: 120px; font-size: 14px; font-weight: bold; font-family: Arial; height: 60px; vertical-align: middle;">
                                                            {{row.entranceName}} </td>
                                                    </ng-container> -->
                                                    <ng-container matColumnDef="laneName">
                                                        <th mat-header-cell *matHeaderCellDef> <span translate>
                                                                dashlanename </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="font-size: 14px; font-weight: bold; font-family: Arial; height: 60px; vertical-align: middle; text-align: left;">
                                                            {{row.laneName}} </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="status">
                                                        <th mat-header-cell *matHeaderCellDef
                                                            style="text-align: center; text-align: left;"> <span
                                                                translate>
                                                                dashportalstatus </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="text-align: center; height: 60px; vertical-align: middle;">
                                                            <img style="height: 60%; cursor: pointer;"
                                                                src="{{row.threatIcon}}" id="{{row.id}}"
                                                                (click)="showthreatIconDetails(row)" />
                                                        </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="threatIcon">
                                                        <th mat-header-cell *matHeaderCellDef
                                                            style="text-align: center; text-align: left;"> <span
                                                                translate>
                                                                dashviewthreatmonitoring </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="text-align: center; height: 60px; vertical-align: middle;">
                                                            <!-- <i class="fa fa-eye" title="View Threat" (click)="viewThreat(row)" style="cursor: pointer; font-size:20px; color: #3597EC;"></i> -->
                                                            <img src="../../../assets/images/eye_icon.png"
                                                                (click)="viewThreat(row)" title="View Threat"
                                                                alt="View Threat" style="cursor: pointer;" />
                                                        </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="threatType">
                                                        <th mat-header-cell *matHeaderCellDef
                                                            style="text-align: center; text-align: left;"> <span
                                                                translate> dashdetails
                                                            </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="text-align: center; height: 60px; vertical-align: middle;">
                                                            <!-- <i class="fa fa-chevron-right" title="View Details" [routerLink]="['/admin/dashboard/threatdetails']" style="cursor: pointer; font-size:20px; color: #3597EC;"></i> -->
                                                            <img src="../../../assets/images/arrow_icon.png"
                                                                title="View Details" alt="View Details"
                                                                style="cursor: pointer;"
                                                                (click)="onDeviceDetails(row)" />
                                                        </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="leftDeviceName">
                                                        <th mat-header-cell *matHeaderCellDef> <span translate>
                                                                dashleftdevicee </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="font-size: 14px; font-weight: bold; font-family: Arial; height: 60px; vertical-align: middle; text-align: left;">
                                                            {{row.leftDeviceName}} </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="leftDeviceStatus">
                                                        <th mat-header-cell *matHeaderCellDef> <span translate>
                                                                dashleftdevicestatus </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="height: 60px; vertical-align: middle;">
                                                            <img *ngIf="row.leftDeviceStatus===true" alt="Device ON"
                                                                title="Device ON"
                                                                src="../../../assets/images/thumbs_up.png" />
                                                            <img *ngIf="row.leftDeviceStatus===false" alt="Device OFF"
                                                                title="Device OFF"
                                                                src="../../../assets/images/thumbs_down.png" />
                                                        </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="leftdeviceactions">
                                                        <th mat-header-cell *matHeaderCellDef
                                                            style="text-align: center; text-align: left;"> <span
                                                                translate> dashleftdeviceactions
                                                            </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="text-align: center; height: 60px; vertical-align: middle;">
                                                            <!-- <i class="fa fa-chevron-right" title="View Details" (click)=" onDeviceDetailClick()" style="cursor: pointer; font-size:20px; color: #3597EC;"></i> -->
                                                            <img src="../../../assets/images/arrow_icon.png"
                                                                (click)="openDeviceDetailDialog(row.leftDeviceName)"
                                                                title="View Left Device Actions"
                                                                alt="View Left Device Actions"
                                                                style="cursor: pointer;" />
                                                        </td>
                                                    </ng-container>

                                                    <ng-container matColumnDef="rightDeviceName">
                                                        <th mat-header-cell *matHeaderCellDef> <span translate>
                                                                dashrightdevicee </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="font-size: 14px; font-weight: bold; font-family: Arial; height: 60px; vertical-align: middle; text-align: left;">
                                                            {{row.rightDeviceName}} </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="rightDeviceStatus">
                                                        <th mat-header-cell *matHeaderCellDef> <span translate>
                                                                dashrightdevicestatus </span>
                                                        </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="height: 60px; vertical-align: middle;">
                                                            <img *ngIf="row.rightDeviceStatus===true" alt="Device ON"
                                                                title="Device ON"
                                                                src="../../../assets/images/thumbs_up.png" />
                                                            <img *ngIf="row.rightDeviceStatus===false" alt="Device OFF"
                                                                title="Device OFF"
                                                                src="../../../assets/images/thumbs_down.png" />
                                                        </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="rightdeviceactions">
                                                        <th mat-header-cell *matHeaderCellDef
                                                            style="text-align: center; text-align: left;"> <span
                                                                translate> dashrightdeviceactions
                                                            </span> </th>
                                                        <td mat-cell *matCellDef="let row"
                                                            style="text-align: center; height: 60px; vertical-align: middle;">
                                                            <!-- <i class="fa fa-chevron-right" title="View Details" (click)=" onDeviceDetailClick()" style="cursor: pointer; font-size:20px; color: #3597EC;"></i> -->
                                                            <img src="../../../assets/images/arrow_icon.png"
                                                                (click)="openDeviceDetailDialog(row.rightDeviceName)"
                                                                title="View Right Device Actions"
                                                                alt="View Right Device Actions"
                                                                style="cursor: pointer;" />
                                                        </td>
                                                    </ng-container>

                                                    <ng-container matColumnDef="userName">
                                                        <th mat-header-cell *matHeaderCellDef> <span translate>
                                                                dashguardname </span> </th>
                                                        <td class="pd-left-5 pd-right-5" mat-cell *matCellDef="let row"
                                                            style="height: 60px; vertical-align: middle; font-size: 14px; font-weight: bold;">
                                                            <span
                                                                style="color: #3597EC; float: left; width: 60px; text-align: left; cursor: pointer;"
                                                                id="{{row.id}}"
                                                                (click)="showAddRemoveGuardList(row.id)">{{row.userName}}</span>
                                                            <!-- <img src="../../../assets/images/add_delete1.png"
                                                                id="{{row.id}}" (click)="showAddRemoveGuardList(row.id)"
                                                                style="float: right; margin-top: 5px;"> -->
                                                        </td>
                                                    </ng-container>
                                                    <tr mat-header-row *matHeaderRowDef="displayedColumnsGate"></tr>
                                                    <tr mat-row *matRowDef="let row; columns: displayedColumnsGate;"
                                                        (click)="selection.toggle(row)"></tr>
                                                </table>
                                            </mat-expansion-panel>
                                        </mat-accordion>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>